(function(b){var a;a=function(c){c=c.replace(/_/,"-").toLowerCase();if(c.length>3){c=c.substring(0,3)+c.substring(3).toUpperCase()}return c};b.defaultLanguage=a(navigator.language||navigator.userLanguage);b.localize=function(g,f){var n,q,e,d,u,k,h,s,t,o,j,p,m,i,l,r,c;if(f==null){f={}}c=this;e={};q=f.fileExtension||"json";k=function(v,x,y){var w;if(y==null){y=1}switch(y){case 1:e={};if(f.loadBase){w=v+("."+q);return d(w,v,x,y)}else{return k(v,x,2)}break;case 2:if(x.length>=2){w=""+v+"-"+(x.substring(0,2))+"."+q;return d(w,v,x,y)}break;case 3:if(x.length>=5){w=""+v+"-"+(x.substring(0,5))+"."+q;return d(w,v,x,y)}}};d=function(x,w,A,B){var v,z,y;if(f.pathPrefix!=null){x=""+f.pathPrefix+"/"+x}y=function(C){b.extend(e,C);p(e);return true};z=function(){if(f.fallback&&f.fallback!==A){return k(w,f.fallback)}else{return k(w,A,B+1)}};v={url:x,dataType:"json",async:false,timeout:f.timeout!=null?f.timeout:500,success:y,error:z};if(window.location.protocol==="file:"){v.error=function(E){var C;try{C=b.parseJSON(E.responseText)}catch(D){}return y(C)}}return b.ajax(v)};p=function(v){if(f.callback!=null){return f.callback(v,n)}else{return n(v)}};n=function(v){b.localize.data[g]=v;return c.each(function(){var x,w,y;x=b(this);w=x.data("localize");w||(w=x.attr("rel").match(/localize\[(.*?)\]/)[1]);y=r(w,v);if(y!=null){return h(x,w,y)}})};h=function(w,v,x){if(w.is("input")){o(w,v,x)}else{if(w.is("textarea")){o(w,v,x)}else{if(w.is("img")){t(w,v,x)}else{if(w.is("optgroup")){j(w,v,x)}else{if(!b.isPlainObject(x)){w.html(x)}}}}}if(b.isPlainObject(x)){return s(w,x)}};o=function(w,v,x){var y;y=b.isPlainObject(x)?x.value:x;if(w.is("[placeholder]")){return w.attr("placeholder",y)}else{return w.val(y)}};s=function(v,w){i(v,"title",w);i(v,"href",w);return l(v,"text",w)};j=function(w,v,x){return w.attr("label",x)};t=function(w,v,x){i(w,"alt",x);return i(w,"src",x)};r=function(w,A){var x,z,y,v;x=w.split(/\./);z=A;for(y=0,v=x.length;y<v;y++){w=x[y];z=z!=null?z[w]:null}return z};i=function(w,v,x){x=r(v,x);if(x!=null){return w.attr(v,x)}};l=function(w,v,x){x=r(v,x);if(x!=null){return w.text(x)}};m=function(w){var v;if(typeof w==="string"){return"^"+w+"$"}else{if(w.length!=null){return((function(){var z,y,x;x=[];for(z=0,y=w.length;z<y;z++){v=w[z];x.push(m(v))}return x})()).join("|")}else{return w}}};u=a(f.language?f.language:b.defaultLanguage);if(!(f.skipLanguage&&u.match(m(f.skipLanguage)))){k(g,u,1)}return c};b.fn.localize=b.localize;return b.localize.data={}})(jQuery);